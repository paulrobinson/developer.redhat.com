{
  "id": "developer_materials",
  "description": "Developer material finder. Accepts the following parameters: 'from', 'query', 'level', 'tag', 'publish_date', 'rating', 'sys_type', 'project'",
  "default": {
    "sys_type": [ "jbossdeveloper_quickstart", "video", "demo", "jbossdeveloper_example", "jbossdeveloper_archetype", "jbossdeveloper_bom", "solution", "article" ]
  },
  "template": "{\"from\": {{#from}}{{from}}{{/from}}{{^from}}0{{/from}},\"size\":9,\"fields\":[\"contributors\",\"duration\",\"experimental\",\"github_repo_url\",\"level\",\"sys_author\",\"sys_contributors\",\"sys_created\",\"sys_description\",\"sys_rating_avg\",\"sys_rating_num\",\"sys_title\",\"sys_type\",\"sys_url_view\",\"thumbnail\"],\"query\":{\"filtered\":{ {{#query}}\"query\":{\"simple_query_string\":{\"query\":\"{{query}}\",\"fields\":[\"sys_description\",\"sys_tags^1.5\",\"sys_contributors.fulltext\",\"sys_project_name^2.0\",\"sys_title^2.5\"]}},{{/query}} \"filter\":{\"and\":{\"filters\":[ {{#level}}{\"term\":{\"level\":\"{{level}}\"}},{{/level}} {{#tag}}{\"term\":{\"sys_tags\":[\"{{.}}\"]}},{{/tag}} {{#publish_date}}{\"range\":{\"sys_created\":{\"gte\":\"{{publish_date}}\"}}},{{/publish_date}} {{#rating}}{\"range\":{\"sys_rating_avg\":{\"gte\":\"{{rating}}\"}}},{{/rating}} {\"or\":[ {{#sys_type}} {\"script\":{\"script\":\"(format_selection == 'jbossdeveloper_quickstart_early_access' && _source.sys_type == 'jbossdeveloper_quickstart' && _source.experimental != undefined && _source.experimental != null && _source.experimental === true) || (format_selection == 'jbossdeveloper_quickstart' && _source.sys_type == format_selection && _source.experimental !== true) || (format_selection != 'jbossdeveloper_quickstart' && format_selection != 'jbossdeveloper_quickstart_early_access' && _source.sys_type == format_selection)\",\"params\":{\"format_selection\":\"{{.}}\",\"lang\":\"js\"}}}, {{/sys_type}} {} ]}, { \"or\":[ {{#project}}{\"term\":{\"sys_project\":\"{{.}}\"}}, {{/project}} {} ]}, {\"terms\":{\"sys_content_provider\":[\"jboss-developer\",\"rht\"]}}]}}}},\"aggregations\":{\"format\":{\"global\":{},\"aggregations\":{\"count_with_filters\":{\"filter\":{\"and\":{\"filters\":[ {{#query}}{\"query\":{\"simple_query_string\":{\"query\":\"{{query}}\",\"fields\":[\"sys_description\",\"sys_tags^1.5\",\"sys_contributors.fulltext\",\"sys_project_name^2.0\",\"sys_title^2.5\"]}}},{{/query}} {{#level}}{\"term\":{\"level\":\"{{level}}\"}},{{/level}} {{#tag}}{\"term\":{\"sys_tags\":[\"{{.}}\"]}},{{/tag}} {{#publish_date}}{\"range\":{\"sys_created\":{\"gte\":\"{{publish_date}}\"}}},{{/publish_date}} {{#rating}}{\"range\":{\"sys_rating_avg\":{\"gte\":\"{{rating}}\"}}},{{/rating}} {\"or\":[ {{#sys_type}} {\"script\":{\"script\":\"(format_selection == 'jbossdeveloper_quickstart_early_access' && _source.sys_type == 'jbossdeveloper_quickstart' && _source.experimental != undefined && _source.experimental != null && _source.experimental === true) || (format_selection == 'jbossdeveloper_quickstart' && _source.sys_type == format_selection && _source.experimental !== true) || (format_selection != 'jbossdeveloper_quickstart' && format_selection != 'jbossdeveloper_quickstart_early_access' && _source.sys_type == format_selection)\",\"params\":{\"format_selection\":\"{{.}}\",\"lang\":\"js\"}}}, {{\/sys_type}} {} ]}, { \"or\":[ {{#project}}{\"term\":{\"sys_project\":\"{{.}}\"}}, {{/project}} {} ]}, {\"terms\":{\"sys_content_provider\":[\"jboss-developer\",\"rht\"]}}]}},\"aggregations\":{\"format_counts\":{\"terms\":{\"script\":\"_source.sys_type == 'jbossdeveloper_quickstart' ? ( _source.experimental != undefined && _source.experimental != null && _source.experimental === true ? _source.sys_type + '_early_access' : _source.sys_type ) : _source.sys_type\",\"lang\":\"js\",\"size\":100}}}},\"count_without_filters\":{\"filter\":{\"and\":{\"filters\":[{\"terms\":{\"sys_content_provider\":[\"jboss-developer\",\"rht\"]}}]}},\"aggregations\":{\"format_counts\":{\"terms\":{\"script\":\"_source.sys_type == 'jbossdeveloper_quickstart' ? ( _source.experimental != undefined && _source.experimental != null && _source.experimental === true ? _source.sys_type + '_early_access' : _source.sys_type ) : _source.sys_type\",\"lang\":\"js\",\"size\":100}}}}}}}}"
}
